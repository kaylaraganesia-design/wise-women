<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WiseWomen - Kalender Menstruasi</title>
    <!-- Tailwind CSS untuk styling cepat dan responsif -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome untuk ikon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">

  </head>
<body class="text-gray-700 h-screen flex flex-col overflow-hidden">

    <!-- HEADER -->
    <header class="bg-white shadow-sm p-4 z-10">
        <div class="max-w-md mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fas fa-moon text-2xl logo-gradasi"></i>
                <h1 class="text-2xl font-bold text-blue-700">WiseWomen</h1>
            </div>
            <button onclick="toggleView()" class="text-blue-600 font-semibold hover:bg-blue-50 px-3 py-1 rounded-lg transition">
                <i id="view-icon" class="fas fa-chart-bar mr-1"></i> <span id="view-text">Statistik</span>
            </button>
        </div>
    </header>

    <!-- MAIN CONTENT CONTAINER -->
    <main class="flex-1 overflow-y-auto relative max-w-md mx-auto w-full bg-white sm:shadow-xl sm:my-4 sm:rounded-xl">
        
        <!-- VIEW: KALENDER -->
        <div id="calendar-view" class="p-4 pb-24 animate-fade-in">
            <!-- Navigasi Bulan -->
            <div class="flex justify-between items-center mb-6">
                <button onclick="changeMonth(-1)" class="w-10 h-10 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 flex items-center justify-center">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <h2 id="current-month-year" class="text-xl font-bold text-gray-800">November 2025</h2>
                <button onclick="changeMonth(1)" class="w-10 h-10 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 flex items-center justify-center">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <!-- Grid Hari (Sen, Sel, Rab...) -->
            <div class="grid grid-cols-7 gap-2 mb-2 text-center text-xs font-bold text-gray-400">
                <div>MGG</div>
                <div>SEN</div>
                <div>SEL</div>
                <div>RAB</div>
                <div>KAM</div>
                <div>JUM</div>
                <div>SAB</div>
            </div>

            <!-- Kalender -->
            <div id="calendar-grid" class="calendar-grid mb-6">
                <!-- Generated by JS -->
            </div>

            <!-- Detail Hari Terpilih (Hidden by default until clicked) -->
            <div id="day-details" class="bg-blue-50 rounded-xl p-5 hidden border border-blue-100">
                <div class="flex justify-between items-center mb-4 border-b border-blue-200 pb-2">
                    <h3 class="font-bold text-lg text-blue-800"><i class="far fa-calendar-alt mr-2"></i><span id="selected-date-text">Tanggal</span></h3>
                    <button onclick="closeDetails()" class="text-gray-400 hover:text-gray-600"><i class="fas fa-times"></i></button>
                </div>

                <form id="entry-form" onsubmit="saveEntry(event)">
                    <!-- Intensitas -->
                    <div class="mb-4">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Intensitas Menstruasi</label>
                        <div class="flex gap-2">
                            <label class="cursor-pointer flex-1">
                                <input type="radio" name="flow" value="0" class="peer sr-only" checked>
                                <div class="text-center p-2 rounded-lg border peer-checked:bg-white peer-checked:text-gray-500 text-gray-400 text-xs">Tidak Ada</div>
                            </label>
                            <label class="cursor-pointer flex-1">
                                <input type="radio" name="flow" value="1" class="peer sr-only">
                                <div class="text-center p-2 rounded-lg border border-blue-200 peer-checked:bg-blue-300 peer-checked:text-blue-900 text-gray-600 text-xs transition">Ringan</div>
                            </label>
                            <label class="cursor-pointer flex-1">
                                <input type="radio" name="flow" value="2" class="peer sr-only">
                                <div class="text-center p-2 rounded-lg border border-blue-300 peer-checked:bg-blue-500 peer-checked:text-white text-gray-600 text-xs transition">Sedang</div>
                            </label>
                            <label class="cursor-pointer flex-1">
                                <input type="radio" name="flow" value="3" class="peer sr-only">
                                <div class="text-center p-2 rounded-lg border border-blue-400 peer-checked:bg-blue-700 peer-checked:text-white text-gray-600 text-xs transition">Berat</div>
                            </label>
                        </div>
                    </div>

                    <!-- Gejala -->
                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Gejala yang dirasakan</label>
                        <div class="flex flex-wrap gap-2" id="symptoms-container">
                            <!-- Checkboxes generated by JS -->
                        </div>
                    </div>

                    <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 shadow-lg transition transform active:scale-95">
                        Simpan Catatan
                    </button>
                </form>
            </div>
            
            <!-- Hint jika belum pilih tanggal -->
            <div id="empty-state" class="text-center py-10 text-gray-400">
                <i class="fas fa-hand-pointer text-4xl mb-3 text-blue-200"></i>
                <p>Pilih tanggal di kalender untuk<br>mencatat siklus atau gejala.</p>
            </div>
        </div>

        <!-- VIEW: STATISTIK -->
        <div id="stats-view" class="hidden p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Analisis Siklusmu</h2>

            <!-- Kartu Rata-Rata -->
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="bg-blue-100 p-4 rounded-2xl text-center">
                    <div class="text-sm text-gray-600 mb-1">Rata-rata Durasi</div>
                    <div class="text-3xl font-bold text-blue-700"><span id="avg-duration">-</span> <span class="text-sm font-normal">hari</span></div>
                    <div class="text-xs text-gray-500 mt-1">Lama Haid</div>
                </div>
                <div class="bg-purple-100 p-4 rounded-2xl text-center">
                    <div class="text-sm text-gray-600 mb-1">Rata-rata Siklus</div>
                    <div class="text-3xl font-bold text-purple-700"><span id="avg-cycle">-</span> <span class="text-sm font-normal">hari</span></div>
                    <div class="text-xs text-gray-500 mt-1">Jarak antar Haid</div>
                </div>
            </div>

            <!-- Gejala Terbanyak -->
            <div class="bg-white border border-gray-100 rounded-2xl p-5 shadow-sm">
                <h3 class="font-bold text-gray-800 mb-4 border-b pb-2">Gejala Paling Sering</h3>
                <div id="top-symptoms-list" class="space-y-3">
                    <!-- List generated by JS -->
                    <p class="text-gray-400 text-sm italic text-center">Belum ada data gejala yang cukup.</p>
                </div>
            </div>
            
            <div class="mt-6 bg-blue-50 p-4 rounded-xl text-xs text-blue-800 leading-relaxed">
                <i class="fas fa-info-circle mr-1"></i> <b>Catatan:</b> Statistik ini dihitung berdasarkan data yang kamu masukkan. Semakin rajin kamu mencatat, semakin akurat prediksinya.
            </div>
        </div>

    </main>
</body>
</html>
